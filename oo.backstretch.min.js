(function(){var a,b,c=function(a,b){return function(){return a.apply(b,arguments)}};b=typeof exports!="undefined"&&exports!==null?exports:this,b.Backstretch=function(){function b(b,d){this.src=b,this.settings=d!=null?d:{},a(this.settings,{centeredX:!0,centeredY:!0,speed:1}),this.src&&(this.container=document.createElement("div"),this.container.id="backstretch",$(this.container).css({left:0,top:0,position:"fixed",overflow:"hidden",zIndex:-998}),this.create_image(),$("body").prepend(this.container),this.img.src=this.src),$(window).resize(c(function(){return this.adjust()},this)),this}return b.prototype.create_image=function(){return this.img=document.createElement("img"),$(this.img).css({position:"relative",display:"none"}).load(c(function(a){return $(this.container).prepend(this.img),this.ratio=this.img.width/this.img.height,this.adjust(),$(this.img).fadeIn(this.settings.speed)},this)),this},b.prototype.change_source=function(a){return a!==this.img.src&&$(this.img).fadeOut(c(function(){return $(this.img).remove(),this.create_image(),this.img.src=a},this)),this},b.prototype.adjust=function(){var a,b,c,d,e,f,g;return e="onorientationchange"in window?$(document):$(window),g=e.width(),f=e.height(),a={left:0,top:0},d=g,b=d/this.ratio,b>=f?(c=(b-f)/2,this.settings.centeredY&&$.extend(a,{top:"-"+c+"px"})):(b=f+10,d=b*this.ratio,c=(d-g)/2,this.settings.centeredX&&$.extend(a,{left:"-"+c+"px"})),$(this.img).css({width:""+d+"px",height:""+b+"px"}).css(a),this},b}(),a=(typeof _!="undefined"&&_!==null?_.defaults:void 0)!=null?_.defaults:function(a){return $.each(Array.prototype.slice.call(arguments,1),function(b){var c,d,e,f;f=[];for(d=0,e=b.length;d<e;d++)c=b[d],f.push(a[c]===null?a[c]=b[c]:void 0);return f}),a}}).call(this)